--DROP TABLE User IF EXISTS;

CREATE TABLE User (
  UserID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
  LoginName VARCHAR(45),
  Password VARCHAR(20),
  FirstName VARCHAR(45),
  LastName VARCHAR(45),
  Email  VARCHAR(50),
  Phone VARCHAR(12),
  Address VARCHAR(255),
  City VARCHAR(20),
  Province VARCHAR(2),
  PostalCode VARCHAR(6),
  Role VARCHAR(45),
  Notify BOOLEAN
);

--DROP TABLE Donation IF EXISTS;

CREATE TABLE Donation (
  DonationID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
  DonorID INTEGER FOREIGN KEY REFERENCES User(UserID),
  Description VARCHAR(200),
  Value DOUBLE,
  ScheduledDate DATETIME,
  CompletedDate DATETIME,
  Address VARCHAR(255),
  City VARCHAR(20),
  Province VARCHAR(2),
  PostalCode VARCHAR(6),
  DropFee DOUBLE,
  ReceiverID INTEGER FOREIGN KEY REFERENCES User(UserID),
  Tacking TIMESTAMP,
  File BLOB,
  Receipts BOOLEAN
);

--DROP TABLE Attachment IF EXISTS;

CREATE TABLE Attachment (
  AttachmentID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
  DonationID INTEGER FOREIGN KEY REFERENCES Donation(DonationID),
  Image BLOB
);